macbookair@M2-MacbookAir my-mcat % npm run dev

> ai-saas@0.1.0 dev
> next dev

  ‚ñ≤ Next.js 14.2.13
  - Local:        http://localhost:3000
  - Environments: .env
  - Experiments (use with caution):
    ¬∑ turbo

 ‚úì Starting...
   automatically enabled Fast Refresh for 1 custom loader
 ‚úì Ready in 1426ms
 ‚úì Compiled /middleware in 137ms (182 modules)
 ‚óã Compiling /home ...
Browserslist: caniuse-lite is outdated. Please run:
  npx update-browserslist-db@latest
  Why you should do it regularly: https://github.com/browserslist/update-db#readme
 ‚úì Compiled /api/notifications in 8.6s (6267 modules)
[Debug] ProfileButton render - profileLoading: true profile: null forceShowProfile: false
[HomePage] Rendering content, hasSeenIntroVideo: false
 GET /api/notifications 200 in 9674ms
 GET /home 200 in 10407ms
 ‚úì Compiled in 2.1s (3008 modules)
 ‚óã Compiling /_not-found ...
 ‚úì Compiled /_not-found in 1372ms (6256 modules)
 GET /_next/static/css/app/(dashboard)/(routes)/home/react-big-calendar.css.map 404 in 1667ms
 GET /api/notifications 200 in 142ms
 ‚óã Compiling /api/user-info ...
 ‚úì Compiled /api/user-info in 723ms (3341 modules)
 ‚úì Compiled (3345 modules)
 GET /api/user-info/profile 200 in 1825ms
 GET /api/user-info/profile 200 in 202ms
 GET /api/notifications 200 in 1747ms
 GET /api/notifications 200 in 101ms
 GET /api/user-info/profile 200 in 201ms
 GET /api/notifications 200 in 101ms
 GET /api/user-info/profile 200 in 200ms
 GET /api/user-info 200 in 2511ms
 GET /api/user-info/profile 200 in 389ms
 GET /api/user-info 200 in 539ms
 GET /api/user-info/profile 200 in 196ms
 GET /api/user-info 200 in 556ms
 GET /api/user-info 200 in 339ms
 GET /api/user-info 200 in 338ms
 ‚úì Compiled /api/global-leaderboard in 322ms (3347 modules)
 ‚úì Compiled /api/user-activity in 0ms (3478 modules)
 ‚úì Compiled in 0ms (3480 modules)
 ‚úì Compiled in 1ms (3480 modules)
 GET /api/user-info/profile 200 in 2530ms
 GET /api/calendar/exam-activities 200 in 2774ms
 ‚úì Compiled in 2ms (3480 modules)
[KALYPSO_WELCOME] API call started at 2025-03-27T19:38:31.420Z
[KALYPSO_WELCOME] Request from IP: ::1
[KALYPSO_WELCOME] Auth check completed in 1ms
[KALYPSO_WELCOME] Skipping rate limiting in development mode
[KALYPSO_WELCOME] Rate limit check passed in 0ms
[KALYPSO_WELCOME] Cache miss for user user_2rFXhmeHNzY3irm9HShrGMGMY3M, generating new message (0ms)
 GET /api/calendar-activity 200 in 3122ms
[KALYPSO_WELCOME] User first name: Dennis Cao
 ‚úì Compiled in 0ms (3480 modules)
 GET /api/global-leaderboard 200 in 3306ms
[KALYPSO_WELCOME] Last activity query completed in 416ms
[KALYPSO_WELCOME] Last activity: {
  id: 'cm8rra0ik0006dgt5fg4fwsd7',
  type: 'studying',
  startTime: 2025-03-27T19:37:52.412Z,
  location: 'KalypsoAI'
}
[KALYPSO_WELCOME] Days since last activity: 1
cleaning up last activity
[KALYPSO_WELCOME] Latest exam query completed in 317ms
[KALYPSO_WELCOME] Latest full length exam: No full length exam found
 ‚úì Compiled in 0ms (3480 modules)
 ‚úì Compiled in 0ms (3480 modules)
[KALYPSO_WELCOME] Latest user test: {
  id: 'cm8holmmm000tdgyuio5nmqxd',
  score: 40,
  testTitle: 'Sporus - Part 1',
  finishedAt: 2025-03-20T18:26:10.703Z
}
[KALYPSO_WELCOME] Latest user test score: 40 on "Sporus - Part 1"
[KALYPSO_WELCOME] Next exam: {
  id: 'cm8qdwdp4000zdg6kbioalg0y',
  title: 'Unscored Sample',
  scheduledDate: 2025-03-29T07:00:00.000Z
}
[KALYPSO_WELCOME] Days until next test: 2
[KALYPSO_WELCOME] Prompt preparation completed in 0ms
[KALYPSO_WELCOME] Prompt for GPT-4o: 
      Create a personalized welcome message for the user named Dennis Cao with the following context:
      
      - Last active: 1 day ago
      - Latest test score: 40 on "Sporus - Part 1"
      - Next scheduled test: "Unscored Sample" in 2 days
      
      The message should start with "Hey Dennis Cao!" and feel personal and contextual to their activity. If this is their first login or they have no activity yet, welcome them as a new user and encourage them to start their MCAT journey.
    
[KALYPSO_WELCOME] Calling GPT-4o-mini for welcome message generation
[AI-COMPLETION] Attempt 1/3 to generate completion
 ‚úì Compiled in 1ms (3480 modules)
cleaning up last activity
 POST /api/user-activity 200 in 4175ms
 GET /api/user-info 200 in 1728ms
cleaning up last activity
 GET /api/user-info/profile 200 in 1425ms
 GET /api/global-leaderboard 200 in 193ms
 GET /api/calendar/exam-activities 200 in 410ms
 POST /api/user-activity 200 in 2721ms
 GET /api/calendar-activity 200 in 716ms
 ‚úì Compiled /api/user-activity/[activityId] in 338ms (3482 modules)
 GET /api/user-info 200 in 592ms
 POST /api/user-activity 200 in 2561ms
 GET /api/user-info 200 in 573ms
 PATCH /api/user-activity/cm8rravn60000dg6wy4qiviyd 200 in 1459ms
 GET /api/kalypso/welcome 200 in 7975ms
[KALYPSO_WELCOME] API call started at 2025-03-27T19:38:36.628Z
[KALYPSO_WELCOME] Request from IP: ::1
[KALYPSO_WELCOME] Auth check completed in 1ms
[KALYPSO_WELCOME] Skipping rate limiting in development mode
[KALYPSO_WELCOME] Rate limit check passed in 0ms
[KALYPSO_WELCOME] Cache miss for user user_2rFXhmeHNzY3irm9HShrGMGMY3M, generating new message (0ms)
[KALYPSO_WELCOME] User first name: Dennis Cao
 GET /api/kalypso/welcome 200 in 251ms
[KALYPSO_WELCOME] API call started at 2025-03-27T19:38:36.864Z
[KALYPSO_WELCOME] Request from IP: ::1
[KALYPSO_WELCOME] Auth check completed in 0ms
[KALYPSO_WELCOME] Skipping rate limiting in development mode
[KALYPSO_WELCOME] Rate limit check passed in 0ms
[KALYPSO_WELCOME] Cache miss for user user_2rFXhmeHNzY3irm9HShrGMGMY3M, generating new message (0ms)
[KALYPSO_WELCOME] Last activity query completed in 400ms
[KALYPSO_WELCOME] Last activity: {
  id: 'cm8rrawkk0002dg6w5n5uthu1',
  type: 'studying',
  startTime: 2025-03-27T19:38:33.957Z,
  location: 'KalypsoAI'
}
[KALYPSO_WELCOME] Days since last activity: 1
[KALYPSO_WELCOME] User first name: Dennis Cao
[KALYPSO_WELCOME] Latest exam query completed in 191ms
[KALYPSO_WELCOME] Latest full length exam: No full length exam found
[KALYPSO_WELCOME] Last activity query completed in 389ms
[KALYPSO_WELCOME] Last activity: {
  id: 'cm8rrawkk0002dg6w5n5uthu1',
  type: 'studying',
  startTime: 2025-03-27T19:38:33.957Z,
  location: 'KalypsoAI'
}
[KALYPSO_WELCOME] Days since last activity: 1
[KALYPSO_WELCOME] GPT-4o-mini generation completed in 4653ms
[KALYPSO_WELCOME] Generated welcome message: Hey Dennis Cao! üò∏

Wow, just a day since you last logged in‚Äîyou're on a roll! üéâ Congrats on scoring a fantastic 40 on "Sporus - Part 1"! That's some serious brainpower! 

I see you have an "Unscored Sample" test coming up in 2 days. Remember, it‚Äôs a great opportunity to practice and refine your test-taking strategies. You‚Äôve got this! Just approach it with confidence and curiosity. Keep up the great work, and let‚Äôs keep those paws moving toward your MCAT success! üêæ

Let me know if you need any help with your prep. Happy studying! üìö‚ú®
[KALYPSO_WELCOME] Cached message for user user_2rFXhmeHNzY3irm9HShrGMGMY3M in 0ms
[KALYPSO_WELCOME] Total API execution time: 5987ms
[KALYPSO_WELCOME] Latest exam query completed in 198ms
[KALYPSO_WELCOME] Latest full length exam: No full length exam found
[KALYPSO_WELCOME] Latest user test: {
  id: 'cm8holmmm000tdgyuio5nmqxd',
  score: 40,
  testTitle: 'Sporus - Part 1',
  finishedAt: 2025-03-20T18:26:10.703Z
}
[KALYPSO_WELCOME] Latest user test score: 40 on "Sporus - Part 1"
[KALYPSO_WELCOME] Next exam: {
  id: 'cm8qdwdp4000zdg6kbioalg0y',
  title: 'Unscored Sample',
  scheduledDate: 2025-03-29T07:00:00.000Z
}
[KALYPSO_WELCOME] Days until next test: 2
[KALYPSO_WELCOME] Prompt preparation completed in 0ms
[KALYPSO_WELCOME] Prompt for GPT-4o: 
      Create a personalized welcome message for the user named Dennis Cao with the following context:
      
      - Last active: 1 day ago
      - Latest test score: 40 on "Sporus - Part 1"
      - Next scheduled test: "Unscored Sample" in 2 days
      
      The message should start with "Hey Dennis Cao!" and feel personal and contextual to their activity. If this is their first login or they have no activity yet, welcome them as a new user and encourage them to start their MCAT journey.
    
[KALYPSO_WELCOME] Calling GPT-4o-mini for welcome message generation
[AI-COMPLETION] Attempt 1/3 to generate completion
[KALYPSO_WELCOME] Latest user test: {
  id: 'cm8holmmm000tdgyuio5nmqxd',
  score: 40,
  testTitle: 'Sporus - Part 1',
  finishedAt: 2025-03-20T18:26:10.703Z
}
[KALYPSO_WELCOME] Latest user test score: 40 on "Sporus - Part 1"
[KALYPSO_WELCOME] Next exam: {
  id: 'cm8qdwdp4000zdg6kbioalg0y',
  title: 'Unscored Sample',
  scheduledDate: 2025-03-29T07:00:00.000Z
}
[KALYPSO_WELCOME] Days until next test: 2
[KALYPSO_WELCOME] Prompt preparation completed in 0ms
[KALYPSO_WELCOME] Prompt for GPT-4o: 
      Create a personalized welcome message for the user named Dennis Cao with the following context:
      
      - Last active: 1 day ago
      - Latest test score: 40 on "Sporus - Part 1"
      - Next scheduled test: "Unscored Sample" in 2 days
      
      The message should start with "Hey Dennis Cao!" and feel personal and contextual to their activity. If this is their first login or they have no activity yet, welcome them as a new user and encourage them to start their MCAT journey.
    
[KALYPSO_WELCOME] Calling GPT-4o-mini for welcome message generation
[AI-COMPLETION] Attempt 1/3 to generate completion
[KALYPSO_WELCOME] GPT-4o-mini generation completed in 2155ms
[KALYPSO_WELCOME] Generated welcome message: Hey Dennis Cao! üêæ It's great to see you back after just a day! Congrats on scoring a fantastic 40 on "Sporus - Part 1" ‚Äì that's an awesome achievement! üéâ 

You've got the "Unscored Sample" test coming up in just 2 days. Use it as a chance to practice and fine-tune your skills; every bit counts! Remember, every step you take gets you closer to your goals. Keep up the great work, and I'm here to help you shine! üåü 

Let‚Äôs keep the momentum going!
[KALYPSO_WELCOME] Cached message for user user_2rFXhmeHNzY3irm9HShrGMGMY3M in 0ms
[KALYPSO_WELCOME] Total API execution time: 3329ms
[KALYPSO_WELCOME] GPT-4o-mini generation completed in 1907ms
[KALYPSO_WELCOME] Generated welcome message: Hey Dennis Cao! üêæ 

Wow, you were just here yesterday! I see you scored an impressive 40 on "Sporus - Part 1"! üéâ That's fantastic‚Äîkeep that momentum going! 

You've got an "Unscored Sample" test coming up in just 2 days. Use this time to review and fine-tune your strategies. Remember, every practice test is a step closer to your goals! 

Stay curious, keep pushing, and don‚Äôt hesitate to reach out if you need help. You've got this! üí™‚ú®
[KALYPSO_WELCOME] Cached message for user user_2rFXhmeHNzY3irm9HShrGMGMY3M in 0ms
[KALYPSO_WELCOME] Total API execution time: 3095ms
 GET /api/kalypso/welcome 200 in 3109ms
[KALYPSO_WELCOME] API call started at 2025-03-27T19:38:39.997Z
[KALYPSO_WELCOME] Request from IP: ::1
[KALYPSO_WELCOME] Auth check completed in 1ms
[KALYPSO_WELCOME] Skipping rate limiting in development mode
[KALYPSO_WELCOME] Rate limit check passed in 0ms
[KALYPSO_WELCOME] Cache hit for user user_2rFXhmeHNzY3irm9HShrGMGMY3M (0ms)
 GET /api/kalypso/welcome 200 in 10ms
[KALYPSO_WELCOME] API call started at 2025-03-27T19:38:40.039Z
[KALYPSO_WELCOME] Request from IP: ::1
[KALYPSO_WELCOME] Auth check completed in 0ms
[KALYPSO_WELCOME] Skipping rate limiting in development mode
[KALYPSO_WELCOME] Rate limit check passed in 0ms
[KALYPSO_WELCOME] Cache hit for user user_2rFXhmeHNzY3irm9HShrGMGMY3M (0ms)
 GET /api/kalypso/welcome 200 in 33ms
